# netstat

- `netstat`은 네트워크와 관련된 내용을 확인할 수 있는 커맨드입니다.

- 출력되는 내용은 상단엔 네트워크 소켓, 하단엔 유닉스 도메인 IPC 소켓이 출력되고 네트워크 소켓의 경우 소켓의 종류와 IP주소, 포트 번호, 상태 등을 보여주고 유닉스 도메인 IPC 소켓의 경우 소켓의 종류와 타입, 아이노드 번호, 경로 등을 보여줍니다.

## 네트워크 소켓

- 네트워크 소켓의 필드에 대한 상세한 설명은 다음과 같습니다.

- `Recv-Q` - TCP 통신의 경우 로컬 네트워크가 전달을 받았지만 연결된 프로세스가 아직 읽지 않은 데이터의 바이트 수 입니다.

- `Send-Q` - TCP 통신의 경우 다른 호스트에게 전달을 했지만 아직 연결된 상대방이 아직 확인하지 않은 데이터의 바이트 수 입니다.

- `Local Address` - 통신 연결을 위한 로컬 주소와 포트 번호 입니다.

- `Foreign Address` - 연결된 상대방 호스트의 주소와 포트 번호 입니다.

- `State` - 연결의 상태 입니다.

## 유닉스 소켓

- 유닉스 소켓의 필드에 대한 상세한 설명은 다음과 같습니다.

- `Proto` - 소켓의 프로토콜 입니다.

- `RefCnt` - 참조에 대한 counting으로 해당 소켓에 연결된 프로세스의 수 입니다.

- `Type` - 소켓의 타입 입니다. ex)DGRAM, STREAM, RAW 등

- `State` - 소켓의 상태 입니다. 상태의 표현이 네트워크 소켓의 상태 표현과 다릅니다.

- `I-Node` - 소켓 파일의 아이노드 번호입니다.

- `Path` - 소켓 파일의 경로입니다.

## 대표적인 옵션

- `-a` - 모든 소켓을 출력합니다. `-a` 옵션을 사용하지 않으면 established 상태인 소켓만을 출력합니다.

- `-n` - 도메인 주소를 IP 주소로 출력합니다.

- `-t` - TCP 소켓만 출력합니다.

- `-u` - UDP 소켓만 출력합니다.

- `-x` - 유닉스 도메인 소켓만 출력합니다.

- `-l` - 현재 listening 상태인 소켓만 출력합니다.

- `-p` - 소켓 파일을 사용하고 있는 프로그램의 이름과 PID까지 출력합니다.

- `-r` - 라우팅 테이블을 조회합니다.

- `-s` - 네트워크 통계를 조회합니다.